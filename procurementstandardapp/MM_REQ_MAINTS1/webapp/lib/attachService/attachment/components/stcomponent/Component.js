/*
 * Copyright (C) 2009-2020 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["sap/ui/core/UIComponent","sap/suite/ui/generic/template/extensionAPI/ReuseComponentSupport"],function(U,R){"use strict";var C=U.extend("sap.se.mi.plm.lib.attachmentservice.attachment.components.stcomponent.Component",{metadata:{manifest:"json",library:"sap.se.mi.plm.lib.attachmentservice",publicMethods:["save","cancel","refresh","getApplicationState","getAttachmentCount"],properties:{mode:{type:'string',group:'Misc',defaultValue:'D'},objectKey:{type:'string',group:'Misc',bindable:true,defaultValue:null},objectType:{type:'string',group:'Misc',bindable:true,defaultValue:null},isDraft:{type:'boolean',group:'Misc',bindable:true,defaultValue:false},semanticObject:{type:'string',group:'Misc',bindable:true,defaultValue:null},attachmentCount:{type:'int',group:'Misc',bindable:true,defaultValue:null},attributeHandling:{type:'object',group:'Misc',bindable:true,defaultValue:null},flavor:{type:'string',group:'Misc',defaultValue:"withoutCheckIn"}},events:{"onupload":{}}},init:function(){(U.prototype.init||jQuery.noop).apply(this,arguments);R.mixInto(this);},createContent:function(){this.page=new sap.ui.view({viewName:"sap.se.mi.plm.lib.attachmentservice.attachment.view.Attachment",type:sap.ui.core.mvc.ViewType.XML});return this.page;},setProperty:function(n,v){sap.ui.core.UIComponent.prototype.setProperty.apply(this,arguments);},stStart:function(m,b,e){var s=this;this.isSmartTemplate=true;if(e.getTransactionController().attachAfterActivate){e.getTransactionController().attachAfterActivate(function(){s.page.getController().setProperties(s.getMode(),s.getObjectType(),s.getObjectKey(),s.getSemanticObject());});}else if(e.getTransactionController().attachAfterSave){e.getTransactionController().attachAfterSave(function(){s.page.getController().setProperties(s.getMode(),s.getObjectType(),s.getObjectKey(),s.getSemanticObject());});}e.attachPageDataLoaded(function(){s.page.getController().setProperties(s.getMode(),s.getObjectType(),s.getObjectKey(),s.getSemanticObject());});e.getTransactionController().attachAfterCancel(function(){s.page.getController().setProperties(s.getMode(),s.getObjectType(),s.getObjectKey(),s.getSemanticObject());});},stRefresh:function(m,b,e){},setMode:function(v){this.setProperty("mode",v);this.page.getController().setModeProperty();},setAttributeHanding:function(v){this.page.getController().setAttributes(v);},getAttributes:function(){return this.page.getController().getAttributeList();},setAttributes:function(a){this.page.getController().setAttributes(a);},save:function(i){return this.page.getController().commitChanges(i);},cancel:function(i){return this.page.getController().cancelChanges(i);},refresh:function(a,o,b,s){this.page.getController().setProperties(a,o,b,s);},getApplicationState:function(){return this.page.getController().getApplicationState();},getAttachmentCount:function(){return this.page.getController().getAttachmentCount();}});return C;});
