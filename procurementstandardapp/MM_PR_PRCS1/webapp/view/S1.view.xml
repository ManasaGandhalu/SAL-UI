<!--

    Copyright (C) 2009-2020 SAP SE or an SAP affiliate company. All rights reserved.

-->
<core:View controllerName="ui.ssuite.s2p.mm.pur.pr.prcss.s1.view.S1" xmlns:core="sap.ui.core" xmlns:filterbar="sap.ui.comp.filterbar"
	xmlns:l="sap.ui.layout" xmlns:smartfilterbar="sap.ui.comp.smartfilterbar" xmlns:table="sap.ui.table" xmlns="sap.m">
	<Page id="pagePRList" navButtonPress="onNavBack" showNavButton="true" title="{i18n>FULLSCREEN_TITLE}">
		<content>
			<smartfilterbar:SmartFilterBar basicSearchFieldName="managePRSearchField" class="sapUiSizeCompact" enableBasicSearch="true"
				entityType="PurchaseReqItem" id="smartFilterId" persistencyKey="ui.ssuite.s2p.mm.pur.pr.prcss.s1.view.S1" reset="doReload"
				search="onSearchButtonPressed">
				<smartfilterbar:controlConfiguration>
					<smartfilterbar:ControlConfiguration controlType="auto" groupId="_BASIC" hasValueHelpDialog="true" index="1" key="Plant"
						label="{i18n>Plant}" preventInitialDataFetchInValueHelpDialog="false" visible="true"></smartfilterbar:ControlConfiguration>
					<smartfilterbar:ControlConfiguration controlType="auto" groupId="_BASIC" hasValueHelpDialog="true" index="2" key="Purchasinggroup"
						label="{i18n>PUR_GRP}" preventInitialDataFetchInValueHelpDialog="false" visible="true"></smartfilterbar:ControlConfiguration>
					<smartfilterbar:ControlConfiguration controlType="auto" groupId="_BASIC" hasValueHelpDialog="true" index="3" key="Purchasingorganization"
						label="{i18n>PUR_ORG}" preventInitialDataFetchInValueHelpDialog="false" visible="true"></smartfilterbar:ControlConfiguration>
					<smartfilterbar:ControlConfiguration controlType="auto" groupId="_BASIC" hasValueHelpDialog="true" index="4" key="Materialgroup"
						label="{i18n>MG}" preventInitialDataFetchInValueHelpDialog="false" visible="true"></smartfilterbar:ControlConfiguration>
					<smartfilterbar:ControlConfiguration controlType="auto" hasValueHelpDialog="true" key="Purchaserequisitionitemtext" label="{i18n>DESC}"
						preventInitialDataFetchInValueHelpDialog="false" visible="true"></smartfilterbar:ControlConfiguration>
					<smartfilterbar:ControlConfiguration controlType="auto" hasValueHelpDialog="true" key="Material" label="{i18n>MAT}"
						preventInitialDataFetchInValueHelpDialog="false" visible="true"></smartfilterbar:ControlConfiguration>
					<smartfilterbar:ControlConfiguration controlType="auto" hasValueHelpDialog="true" key="Supplier" label="{i18n>RS}"
						preventInitialDataFetchInValueHelpDialog="false" visible="true"></smartfilterbar:ControlConfiguration>
					<smartfilterbar:ControlConfiguration controlType="auto" hasValueHelpDialog="true" key="Fixedvendor" label="{i18n>FS}"
						preventInitialDataFetchInValueHelpDialog="false" visible="true"></smartfilterbar:ControlConfiguration>
				</smartfilterbar:controlConfiguration>
			</smartfilterbar:SmartFilterBar>
			<Table fixedLayout="false" growing="true" growingScrollToLoad="true" id="purchaseRequisitionItemTable" inset="true"
				items="{path:'/PurchaseReqItemSet',sorter: [{path: 'Purchaserequisition',ascending: true},{path: 'Purchaserequisitionitem',ascending: true}]}" mode="MultiSelect"
				selectionChange="CreatePOEnableCheck">
				<headerToolbar>
					<Toolbar id='PRListToolbar'>
						<Label id="labelCount"
							text="{parts:[{path:'i18n>PROD'},{path:'/PurchaseReqItemCount'}],formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatDisplayCount'}"></Label>
						<ToolbarSpacer></ToolbarSpacer>
						<Button icon="sap-icon://group-2" id="groupingButton" press="onPressGrouping" tooltip="{i18n>GRP}"/>
						<Button icon="sap-icon://sort" id="sortButton" press="onPressDrpDnList"/>
						<Button icon="sap-icon://action-settings" id="columnsButton" press="onPersoButtonPressed" tooltip="{i18n>STG}"/>
						<Button icon="sap-icon://excel-attachment" id="exportButton" press="onDataExport" tooltip="{i18n>EXP}"/>
					</Toolbar>
				</headerToolbar>
				<columns>
					<Column hAlign="End" id="purReqColumnId" vAlign="Middle" width="12.5%">
						<Text text="{i18n>PUR_REQ}"/>
					</Column>
					<Column hAlign="Begin" id="descriptionColumnId" vAlign="Middle" width="12.5%">
						<Text text="{i18n>DESC}"/>
					</Column>
					<Column demandPopin="true" hAlign="Begin" id="materialgroupColumnId" minScreenWidth="Desktop" vAlign="Middle" width="12.5%">
						<Text text="{i18n>MG}"/>
					</Column>
					<Column demandPopin="true" hAlign="End" id="quantityColumnId" minScreenWidth="Desktop" vAlign="Middle" width="7%">
						<Text text="{i18n>QUANT}"/>
					</Column>
					<Column demandPopin="true" hAlign="End" id="priceColumnId" minScreenWidth="Desktop" vAlign="Middle" width="10%">
						<Text text="{i18n>PRICE}"/>
					</Column>
					<Column demandPopin="true" hAlign="Center" id="sourcesColumnId" minScreenWidth="Desktop" vAlign="Middle" width="15%">
						<Text text="{i18n>SUPP}"/>
					</Column>
					<Column demandPopin="true" hAlign="Begin" id="delivDateColumnId" minScreenWidth="Desktop" vAlign="Middle" width="12.5%">
						<Text text="{i18n>DELIVDATE}"/>
					</Column>
					<Column demandPopin="true" hAlign="Begin" id="plantColumnId" minScreenWidth="Desktop" vAlign="Middle" width="12.5%">
						<Text text="{i18n>Plant}"/>
					</Column>
					<Column id="editColumnId" hAlign="Begin" vAlign="Begin" width="3.5%">
						<Text text="{i18n>ED}" width="100%"/>
					</Column>
				</columns>
				<items>
					<ColumnListItem id="prListId" press="handleNav" type="Navigation" vAlign="Middle">
						<cells>
							<Link design="Bold" height='auto' press="handleNav"
								text="{parts:[{path:'Purchaserequisition'},{path:'Purchaserequisitionitem'}], formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatPrNumItmNum'}"
								tooltip="{parts:[{path:'Purchaserequisition'},{path:'Purchaserequisitionitem'}], formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatPrNumItmNum'}"/>
							<Link enabled="{path: 'Material', formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.materialLinkDisable'}" height='auto'
								press="handleMaterialFactSheetNavigation"
								text="{parts:[{path:'Purchaserequisitionitemtext'},{path:'Material'}], formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatDescMatnr'}"/>
							<ObjectIdentifier text="{Materialgroup}" title="{Materialname}"/>
							<Text
								text="{parts:[{path:'Quantity'},{path:'Materialbaseunit'}], formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatQuantity'}"/>
							<ObjectNumber
								number="{parts:[{path:'Materialcomponentprice'},{path:'Purgdoctransactioncurrency'}], formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatPriceCurrency1'}"
								unit="{parts:[{path:'Purgdoctransactioncurrency'},{path:'Materialpriceunitqty'},{path:'Materialbaseunit'}], formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatPriceCurrency2'}"/>
							<VerticalLayout visible="true" xmlns="sap.ui.layout">
								<content height='auto'>
									<Link id="businessCard" press="handleBusinessCard"
										text="{parts:[{path:'Fixedvendor'},{path:'Supplier'},{path:'Supplyingvendorname'}],formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatSelectSupplier'}"
										xmlns="sap.m" ariaLabelledBy="{i18n>SUPP}"/>
									<HorizontalLayout height='auto' visible="true" xmlns="sap.ui.layout">
										<tooltip></tooltip>
										<content>
											<Text text="{path:'i18n>OutOf',formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatDisplayLinkOutOf'}"
												visible="{path:'Fixedvendor',formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatLinkText'}" xmlns="sap.m"/>
											<Label visible="{path:'Fixedvendor',formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatLinkText'}" width="0.3em" xmlns="sap.m"/>
											<Link enabled="{path: 'Sos_count', formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatLinkDisable'}" id="linkSOSPRList"
												press='handleSoSDialog'
												text="{parts:[{path:'Sos_count'},{path:'i18n>Sources'}],formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatDisplayText'}"
												xmlns="sap.m"/>
											<Text text="{path:'i18n>OutOf',formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatDisplayLinkBracket'}"
												visible="{path:'Fixedvendor',formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatLinkText'}" xmlns="sap.m"/>
										</content>
									</HorizontalLayout>
								</content>
							</VerticalLayout>
							<Text text="{path:'Deliverydate',formatter:'ui.ssuite.s2p.mm.pur.pr.prcss.s1.util.Formatter.formatDateRead'}"/>
							<ObjectIdentifier text="{Plant}" title="{Supplyingplantname}"/>
							<Button icon="sap-icon://edit" press="handleOpenDialog" type='Transparent'/>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
		</content>
		<footer>
			<Toolbar>
				<ToolbarSpacer/>
				<Button enabled='false' id="CreateRFQ" press="onPressCreateDraftRFQ" text="{i18n>CREATE_RFQ}"/>
				<Button enabled='false' id="CreatePO" press="onPressCreateDraft" text="{i18n>CREATE_PO}"/>
			</Toolbar>
		</footer>
	</Page>
</core:View>