<!--

    Copyright (C) 2009-2018 SAP SE or an SAP affiliate company. All rights reserved.

-->
<mvc:View controllerName="s2p.mm.im.goodsreceipt.purchaseorder.controller.S1" xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form"
	xmlns:footerbar="sap.ushell.ui.footerbar" xmlns:l="sap.ui.layout" xmlns:mvc="sap.ui.core.mvc" xmlns:semantic="sap.m.semantic" xmlns="sap.m">
	<semantic:FullscreenPage id="idPage" navButtonPress="onNavBack" showNavButton="true" title="{i18n>FULLSCREEN_TITLE}">
		<semantic:content>
			<f:SimpleForm editable="true" id="idSimpleFormHeader" maxContainerCols="3" minWidth="1024">
				<Label id="idPOInputLabel" text="{i18n>SEARCH_FIELD_LABEL}"/>
				<!--<Input change="handleInputChangeEvent" filterSuggests="false" id="POInput" maxLength="10" placeholder="{oFrontend>/searchPlaceholderText}"-->
				<!--	showSuggestion="true" showValueHelp="true" startSuggestion="3" suggest="handleSuggest" suggestionItems="{oData>/GR4PO_DL_Headers}"-->
				<!--	type="Text" valueHelpRequest="handlePOHelp" width="35%">-->
				<!--	<suggestionItems>-->
				<!--		<core:ListItem additionalText="{oData>VendorName}" text="{oData>InboundDelivery}"/>-->
				<!--	</suggestionItems>-->
				<!--</Input>-->
				<Input change="handleInputChangeEvent" filterSuggests="false" id="POInput" maxLength="10" placeholder="{oFrontend>/searchPlaceholderText}"
					showSuggestion="true" showValueHelp="true" startSuggestion="3" suggest="handleSuggest" type="Text" valueHelpRequest="handlePOHelp"
					width="35%">
					<!--<suggestionColumns>-->
					<!--	<Column demandPopin="true" hAlign="Begin" popinDisplay="Inline">-->
					<!--		<Label text="{i18n>PO_SEARCH_FIELD_LABEL}"/>-->
					<!--	</Column>-->
					<!--	<Column demandPopin="true" hAlign="Begin" popinDisplay="Inline">-->
					<!--		<Label text="{i18n>SUPPLIER_SEARCH_FIELD_LABEL}"/>-->
					<!--	</Column>-->
					<!--	<Column demandPopin="true" hAlign="Begin" popinDisplay="Inline">-->
					<!--		<Label text="{i18n>SUPPLYINGPLANT_SEARCH_FIELD_LABEL}"/>-->
					<!--	</Column>-->
					<!--</suggestionColumns>-->
				</Input>
			</f:SimpleForm>
	 
			<ObjectHeader id="idLifname" title="{oFrontend>/Objectheader}" titleActive="{oFrontend>/SupplierDisplayActive}"
				titlePress="handleDisplaySupplierLinkPress" fullScreenOptimized="false" responsive="true">
				<attributes>
					<ObjectAttribute id="idLifnr" text="{oFrontend>/Lifnr}" title="{i18n>LABEL_SUP_COL}" visible="{= ${oFrontend>/PurchasingDocumentType} !== 'UB'}" />
					<ObjectAttribute active="{oFrontend>/PurchaseOrderDisplayActive}" id="idEbeln" press="handleDisplayPurchaseOrderLinkPress"
						text="{oFrontend>/Ebeln}" title="{i18n>SEARCH_FIELD_LABEL}"/>
					<ObjectAttribute id="idPurchasingDocumentType"
					text="{parts:[{path: 'oFrontend>/PurchasingDocumentTypeName'},{path: 'oFrontend>/PurchasingDocumentType'}], formatter: '.formatter.concatenateNameIdFormatter'}" title="{i18n>PO_TYPE_LABEL}"/>
				</attributes>
			</ObjectHeader>
			
		 
			<f:SimpleForm columnsL="3" columnsM="3" editable="true" emptySpanL="0" emptySpanM="0" id="SimpleFormDisplay354" labelSpanL="4"
				labelSpanM="4" layout="ResponsiveGridLayout" maxContainerCols="3" minWidth="1024">
				<f:content>
					<core:Title/>
					<Label design="Standard" id="idDeliveryDocumentByVendorLabel" text="{i18n>c}" textAlign="Left"/>
					<Input change="handleUpperCase" enabled="{oFrontend>/visible}" id="idDeliveryDocumentByVendor" maxLength="16" type="Text"
						value="{oFrontend>/DeliveryDocumentByVendor}" ariaLabelledBy="idDeliveryDocumentByVendorLabel">
						<layoutData>
							<l:GridData span="L3 M3 S3"/>
						</layoutData>
					</Input>
					<ComboBox id="idVersionForPrintingSlip" selectedKey="{oFrontend>/VersionForPrintingSlip_selectedKey}" enabled="{oFrontend>/visible}"
						tooltip="{i18n>SELECT_ITEM_OUTPUT_TOOLTIP}" items="{oFrontend>/VersionForPrintingSlip}">
						<core:Item id="idVersionForPrintingSlipItem" key="{oFrontend>key}" text="{oFrontend>text}"/>
						<layoutData>
							<l:GridData span="L4 M4 S4"/>
						</layoutData>
					</ComboBox >
					<!--code for Attachment -->
					<Button enabled='false' icon="sap-icon://attachment" id="idAttachment" press="handleAttachmentPressed" visible='true'>
						<layoutData>
							<l:GridData span="L1 M1 S1"/>
						</layoutData>
					</Button>
					<Label design="Standard" id="idBillOfLadingLabel" text="{i18n>BILL_OF_LADING_LABEL}" textAlign="Left"/>
					<Input change="handleUpperCase" enabled="{oFrontend>/visible}" id="idBillOfLading" maxLength="16" type="Text"
						value="{oFrontend>/BillOfLading}" ariaLabelledBy="idBillOfLadingLabel"/>
					<core:Title/>
					<Label design="Standard" id="idMaterialDocumentHeaderTextLabel" text="{i18n>HEADER_NOTE_LABEL}" textAlign="Left"/>
					<Input enabled="{oFrontend>/visible}" id="idMaterialDocumentHeaderText" maxLength="25" type="Text"
						value="{oFrontend>/MaterialDocumentHeaderText}" ariaLabelledBy="idMaterialDocumentHeaderTextLabel"/>
					<core:Title/>
					<Label design="Standard" id="idDocumentDateLabel" text="{i18n>DOCUMENT_DATE_LABEL}" textAlign="Left"/>
					<DatePicker change="handleDateChange" enabled="{oFrontend>/visible}" id="idDocumentDate" value="{oFrontend>/DocumentDate}"
						valueFormat="dd.MM.YYYY" valueState="{oFrontend>/DocumentDate_valueState}" ariaLabelledBy="idDocumentDateLabel"/>
					<Label design="Standard" id="idPostingDateLabel" text="{i18n>POSTING_DATE_LABEL}" textAlign="Left"/>
					<DatePicker change="handleDateChange" enabled="{oFrontend>/visible}" id="idPostingDate" value="{oFrontend>/PostingDate}"
						valueFormat="dd.MM.YYYY" valueState="{oFrontend>/PostingDate_valueState}" ariaLabelledBy="idPostingDateLabel"/>
				</f:content>
			</f:SimpleForm>
			<Table id="idProductsTable" items="{oFrontend>/Items}" ariaLabelledBy="idPOItemsCountTableHeader">
				<headerToolbar>
					<Toolbar id="idTableToolbar">
						<Label id="idPOItemsCountTableHeader" text="{oFrontend>/POItemsCountTableHeader}"></Label>
						<ToolbarSpacer></ToolbarSpacer>
						<SearchField enabled="{oFrontend>/visible}" id="idTableSearch" search="handleSearch" selectOnFocus="false" width="25%"/>
						<Button icon="sap-icon://sort" id="idViewSettingsButton" press="handleViewSettingsDialogButtonPressed"/>
						<Button enabled="{oFrontend>personalizationEnabled}" icon="sap-icon://action-settings" id="idPersonalizationButton"
							press="onPersoButtonPressed"/>
					</Toolbar>
				</headerToolbar>
				<columns>
					<Column id="idSelectAllColumn" minScreenWidth="Phone" width="3rem">
						<CheckBox id="idSelectAll" select="handleSelectAll" tooltip="{i18n>TABLE_SELECT_ALL_TOOLTIP}" ariaDescribedBy="idSelectAll"/>
					</Column>
					<Column id="idMaterialColumn" minScreenWidth="Phone">
						<Text id="idMaterialColumnText" text="{i18n>TABLE_COLUMN_MATERIAL_TEXT}"/>
					</Column>
					<Column demandPopin="true" id="idOpenQuantityColumn" minScreenWidth="Tablet">
						<Text id="idOpenQuantityColumnText" text="{i18n>TABLE_COLUMN_OPEN_QUANT_TEXT}"/>
					</Column>
					<Column demandPopin="true" id="idDeliveredQuantityColumn" minScreenWidth="Tablet" width="15%">
						<Text id="idDeliveredQuantityColumnText" text="{i18n>TABLE_COLUMN_DELIV_QUANT_TEXT}"/>
					</Column>
					<Column id="idAccountAssignmentColumn" minScreenWidth="Tablet" visible="{oFrontend>/ColumnAccountAssignmentVisible}">
						<Text id="idAccountAssignmentColumnText" text="{i18n>TABLE_COLUMN_ACC_ASS_TEXT}"/>
					</Column>
					<Column id="idSplitColumn" minScreenWidth="Tablet" visible="{oFrontend>/ColumnSplitVisible}">
						<Text id="idSplitColumnText" text="{i18n>TABLE_COLUMN_SPLIT_ASS_TEXT}"/>
					</Column>
					<Column id="idPlantColumn" minScreenWidth="Tablet" visible="{oFrontend>/ColumnPlantVisible}">
						<Text id="idPlantColumnText" text="{i18n>TABLE_COLUMN_PLANT_TEXT}"/>
					</Column>
					<Column id="idStorageLocationColumn" minScreenWidth="Tablet" visible="{oFrontend>/ColumnStorageLocationVisible}">
						<Text id="idStorageLocationColumnText" text="{i18n>TABLE_COLUMN_STOR_LOC_TEXT}"/>
					</Column>
					<Column id="idStockTypeColumn" minScreenWidth="Tablet" visible="{oFrontend>/ColumnStockTypeVisible}">
						<Text id="idStockTypeColumnText" text="{i18n>TABLE_COLUMN_STOCK_T_TEXT}"/>
					</Column>
				</columns>
				<items>
					<ColumnListItem press="handleDetailPress" type="Navigation">
						<cells>
							<CheckBox enabled="{oFrontend>SelectEnabled}" id="idSelectedCell" select="handleSelect" selected="{oFrontend>Selected}"
								visible="{oFrontend>MaterialVisible}" tooltip="{i18n>TABLE_SELECT_ITEM_TOOLTIP}" ariaLabelledBy="idSelectedCell"/>
							<ObjectIdentifier class="sapMTableContentMargin" id="idMaterialNameCell" text="{path:'oFrontend>Material', formatter: '.matidformatter' }"
								tooltip="{oFrontend>MaterialName}" title="{oFrontend>MaterialText}" 
								titleActive="{oFrontend>MaterialNavigationActive}" 
								ariaLabelledBy="idMaterialColumnText" titlePress="handleDisplayMaterialLinkPress">
								<customData>
									<core:CustomData key="Material" value="{oFrontend>Material}"/>
								</customData>
							</ObjectIdentifier>
							<ObjectNumber emphasized="false" id="idOpenQuantityCell"
								number="{path:'oFrontend>OpenQuantity', type:'sap.ui.model.type.Float', formatOptions : {maxFractionDigits:3, minFractionDigits:3, maxIntegerDigits:10, minIntegerDigits:1}}"
								unit="{oFrontend>Unit}" visible="{oFrontend>MaterialVisible}"/>
							<l:HorizontalLayout id="idDeliveredQuantityLayout">
								<Input change="handleInputChange" enabled="{oFrontend>ItemEnabled}" id="idDeliveredQuantity_inputCell" showValueStateMessage="true"
									textAlign="Right"
									value="{path:'oFrontend>DeliveredQuantity_input', type:'sap.ui.model.type.Float', formatOptions : {maxFractionDigits:3, minFractionDigits:3, maxIntegerDigits:10, minIntegerDigits:1}}"
									valueState="{oFrontend>DeliveredQuantity_valueState}" valueStateText="{oFrontend>DeliveredQuantity_valueStateText}" width="5rem"
									ariaLabelledBy="idDeliveredQuantityColumnText"/>
								<Input editable="true" enabled="{oFrontend>ItemEnabled}" id="idDeliveredUnit_inputCell" showValueHelp="true" textAlign="Right" type="Text"
									value="{oFrontend>DeliveredUnit_input}" valueHelpOnly="true" valueHelpRequest="handleAUoMHelp"
									valueState="{oFrontend>DeliveredUnit_valueState}" valueStateText="{oFrontend>DeliveredUnit_valueStateText}" width="5rem"
									ariaLabelledBy="idDeliveredQuantityColumnText"/>
							</l:HorizontalLayout>
							<Button id="idAccountAssignmentCell" press="onDisplayAccountAssignment" text="{i18n>DISPLAY_ACC_ASS_BUTTON}"
								visible="{oFrontend>AccountAssignmentVisible}"/>
							<Button icon="{oFrontend>SplitButtonIcon}" id="idSplitCell" press="handleItemSplit" text="{oFrontend>SplitButtonText}"
								visible="{oFrontend>SplitEnabled}"/>
							<!--	<Input editable="false" enabled="{oFrontend>ItemEnabled}" id="idPlant_inputCell" type="Text" value="{oFrontend>Plant_input}"
								visible="{oFrontend>PlantVisible}"/>-->
							<Text id="idPlant_inputCell" text="{oFrontend>Plant_input}" visible="{oFrontend>PlantVisible}"/>
							<Input editable="true" enabled="{oFrontend>ItemEnabled}" id="idStorageLocation_inputCell" showValueHelp="true" showValueStateMessage="true"
								type="Text" value="{oFrontend>StorageLocation_input}" valueHelpOnly="true" valueHelpRequest="handleStorageLocationHelp"
								valueState="{oFrontend>StorageLocation_valueState}" valueStateText="{oFrontend>StorageLocation_valueStateText}"
								visible="{oFrontend>StorageLocationVisible}" ariaLabelledBy="idStorageLocationColumnText"></Input>
							<Select enabled="{oFrontend>ItemEnabled}" id="idStockType_inputCell" items="{path: 'oFrontend>StockType_input', templateShareable: false }"
								selectedKey="{oFrontend>StockType_selectedKey}" visible="{oFrontend>StockTypeVisible}" ariaLabelledBy="idStockTypeColumnText">
								<core:Item id="idStockType" key="{oFrontend>key}" text="{oFrontend>text}"/>
							</Select>
						</cells>
					</ColumnListItem>
				</items>
			</Table>
			<!--code for Attachment -->
			<Panel busy="false" busyIndicatorDelay="1000" expandAnimation="true" expandable="false" expanded="false" headerText="{i18n>ATTACHMENTS}"
				height="auto" id="Attp" visible="false" width="100%" xmlns="sap.m">
				<content>
					<core:Fragment fragmentName="s2p.mm.im.goodsreceipt.purchaseorder.view.Attachment" type="XML"/>
				</content>
			</Panel>
		</semantic:content>
		<semantic:sendEmailAction>
			<semantic:SendEmailAction id="idShareEmail" press="onShareEmailPress"/>
		</semantic:sendEmailAction>
		<semantic:shareInJamAction>
			<semantic:ShareInJamAction id="idShareInJam" press="onShareInJamPress" visible="{FLP>/isShareInJamActive}"/>
		</semantic:shareInJamAction>
		<semantic:saveAsTileAction>
			<footerbar:AddBookmarkButton id="shareTile" customUrl="{oFrontend>/saveAsTileURL}" title="{oFrontend>/saveAsTileTitle}"
				subtitle="{oFrontend>/saveAsTileSubtitle}"/>
		</semantic:saveAsTileAction>
		<semantic:messagesIndicator>
			<semantic:MessagesIndicator id="idMessageIndicator" press="onMessagesButtonPress"/>
		</semantic:messagesIndicator>
		<semantic:customFooterContent>
			<Button enabled="{oFrontend>/PostButtonEnabled}" id="postBtn" press="handlePost" text="{i18n>POST_BUTTON}" type="Emphasized"
				visible="{oFrontend>/PostButtonVisible}"/>
		</semantic:customFooterContent>
	</semantic:FullscreenPage>
</mvc:View>