<!--

    Copyright (C) 2009-2018 SAP SE or an SAP affiliate company. All rights reserved.

-->
<mvc:View controllerName="s2p.mm.im.goodsreceipt.purchaseorder.controller.S1" navButtonPress="onNavButtonPress" showNavButton="true"
	xmlns:core="sap.ui.core" xmlns:f="sap.ui.layout.form" xmlns:footerbar="sap.ushell.ui.footerbar" xmlns:l="sap.ui.layout"
	xmlns:mvc="sap.ui.core.mvc" xmlns:semantic="sap.m.semantic" xmlns="sap.m">
	<semantic:FullscreenPage busy="{objectView>/busy}" busyIndicatorDelay="{objectView>/delay}" id="page" navButtonPress="handleNavButtonPress"
		showNavButton="true" title="{i18n>DETAILSCREEN_TITLE}">
		<semantic:content>
			<ObjectHeader condensed="false" id="idMaterial"
				title="{parts:[{path:'oItem>/MaterialText'}, {path:'oItem>/Material'}], formatter: '.concatenateNameIdFormatter'}" titleActive="false"
				visible="true">
				<attributes>
					<ObjectAttribute id="idMaterialNameObjectAttribute" text="{oItem>/MaterialName}" title="{i18n>TABLE_COLUMN_MATERIALNAME_TEXT}"
						visible="{= ${oItem>/MaterialText} !== ${oItem>/MaterialName} &amp;&amp; ${oItem>/PurchaseOrderItemText} !=='' }"/>
				</attributes>
			</ObjectHeader>
			<f:Form class="isReadonly" editable="true" id="FormDisplayQuant">
				<f:title>
					<core:Title text="{i18n>LABEL_QUANTITY}"/>
				</f:title>
				<f:layout>
					<f:ResponsiveGridLayout id="idResponsiveGridLayout" columnsL="2" columnsM="2" emptySpanL="2" emptySpanM="2" labelSpanL="4" labelSpanM="4"/>
				</f:layout>
				<f:formContainers>
					<f:FormContainer id="idDeliveredFormContainer">
						<f:formElements>
							<f:FormElement id="idLabelDeliveredUnitOfEntry" label="{i18n>LABEL_DELIVERED_UNIT_OF_ENTRY}">
								<f:fields>
									<l:HorizontalLayout id="idDeliveredHorizontalLayout">
										<Input change="handleInputChange" enabled="{oItem>/ItemEnabled}" id="idDeliveredQuantityInput" showValueStateMessage="true"
											textAlign="Right"
											value="{path:'oItem>/DeliveredQuantity_input', type:'sap.ui.model.type.Float', formatOptions : {maxFractionDigits:3, minFractionDigits:3, maxIntegerDigits:10, minIntegerDigits:1}}"
											valueState="{oItem>/DeliveredQuantity_valueState}" valueStateText="{oItem>/DeliveredQuantity_valueStateText}" width="9rem" ariaLabelledBy="idLabelDeliveredUnitOfEntry"/>
										<Input editable="true" enabled="{oItem>/ItemEnabled}" id="idDeliveredUnitInput" showValueHelp="true" type="Text"
											value="{oItem>/DeliveredUnit_input}" valueHelpOnly="true" valueHelpRequest="handleAUoMHelp" width="5rem" ariaLabelledBy="idLabelDeliveredUnitOfEntry"/>
									</l:HorizontalLayout>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
					<f:FormContainer id="idOpenQuantityFormContainer">
						<f:formElements>
							<f:FormElement id="idOpenQuantityLabel" label="{i18n>LABEL_OPEN}">
								<f:fields>
									<l:HorizontalLayout id="idOpenQuantityHorizontalLayout">
										<Input ariaLabelledBy="idOpenQuantityLabel" editable="false" enabled="{oItem>/ItemEnabled}" id="idOpenQuantity" textAlign="Right"
											value="{path:'oItem>/OpenQuantity', type:'sap.ui.model.type.Float', formatOptions : {maxFractionDigits:3, minFractionDigits:3, maxIntegerDigits:10, minIntegerDigits:1}}"
											width="9rem" />
										<Input ariaLabelledBy="idOpenQuantityLabel" editable="false" enabled="{oItem>/ItemEnabled}" id="idOpenQuantityUnit" value="{oItem>/Unit}"
											width="5rem"/>
									</l:HorizontalLayout>
								</f:fields>
							</f:FormElement>
							<f:FormElement id="idOrderedLabel" label="{i18n>LABEL_ORDERED}">
								<f:fields>
									<l:HorizontalLayout id="idOrderedHorizontalLayout">
										<Input ariaLabelledBy="idOrderedLabel" editable="false" enabled="{oItem>/ItemEnabled}" id="idOrderedQuantityInput" textAlign="Right"
											value="{path:'oItem>/OrderedQuantity', type:'sap.ui.model.type.Float', formatOptions : {maxFractionDigits:3, minFractionDigits:3, maxIntegerDigits:10, minIntegerDigits:1}}"
											width="9rem"/>
										<Input ariaLabelledBy="idOrderedLabel" editable="false" enabled="{oItem>/ItemEnabled}" id="idOrderedQuantityUnit"
											value="{oItem>/OrderedQuantityUnit}" width="5rem"/>
									</l:HorizontalLayout>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
				</f:formContainers>
			</f:Form>
			<f:Form class="isReadonly" editable="true" id="FormDisplayLocation" visible="{oItem>/StorageLocationVisible}">
				<f:title>
					<core:Title id="idLocationLabel" text="{i18n>LABEL_LOCATION}"/>
				</f:title>
				<f:layout>
					<f:ResponsiveGridLayout id="idStorageLocationHorizontalLayout" columnsL="2" columnsM="2" emptySpanL="2" emptySpanM="2" labelSpanL="4"
						labelSpanM="4"/>
				</f:layout>
				<f:formContainers>
					<f:FormContainer>
						<f:formElements>
							<f:FormElement id="idStorageLocationLabel" label="{i18n>TABLE_COLUMN_STOR_LOC_TEXT}">
								<f:fields>
									<Input ariaLabelledBy="idStorageLocationLabel" editable="true" enabled="{oItem>/ItemEnabled}" id="idStorageLocationInput"
										showValueHelp="true" showValueStateMessage="true" type="Text" value="{oItem>/StorageLocation_input}" valueHelpOnly="true"
										valueHelpRequest="handleStorageLocationHelp" valueState="{oItem>/StorageLocation_valueState}"
										valueStateText="{oItem>/StorageLocation_valueStateText}" visible="{oItem>/StorageLocationVisible}" width="14rem"/>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
					<f:FormContainer>
						<f:formElements>
							<f:FormElement id="idPlantLabel" label="{i18n>TABLE_COLUMN_PLANT_TEXT}">
								<f:fields>
									<Input ariaLabelledBy="idPlantLabel" editable="false" enabled="{oItem>/ItemEnabled}" id="idPlantInput" type="Text"
										value="{oItem>/Plant_input}" visible="{oItem>/PlantVisible}"/>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
				</f:formContainers>
			</f:Form>
			<f:Form class="isReadonly" editable="true" id="FormDisplayStock" visible="{oItem>/StockTypeVisible}">
				<f:title>
					<core:Title id="StockTypeLabel" text="{i18n>LABEL_STOCK}"/>
				</f:title>
				<f:layout>
					<f:ResponsiveGridLayout columnsL="2" columnsM="2" emptySpanL="2" emptySpanM="2" labelSpanL="4" labelSpanM="4"/>
				</f:layout>
				<f:formContainers>
					<f:FormContainer>
						<f:formElements>
							<f:FormElement id="idStockTypeLabel" label="{i18n>TABLE_COLUMN_STOCK_T_TEXT}">
								<f:fields>
									<Select ariaLabelledBy="idStockTypeLabel" enabled="{oItem>/ItemEnabled}" id="idStockTypeSelect" items="{oItem>/StockType_input}"
										selectedKey="{oItem>/StockType_selectedKey}" visible="{oItem>/StockTypeVisible}" width="14rem">
										<core:Item key="{oItem>key}" text="{oItem>text}"/>
									</Select>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
					<f:FormContainer>
						<f:formElements>
							<f:FormElement id="idInventorySpecialStockLabel" label="{i18n>LABEL_SPECIALSTOCK}">
								<f:fields>
									<Input ariaLabelledBy="idInventorySpecialStockLabel" editable="false" enabled="{oItem>/ItemEnabled}" id="idInventorySpecialStockInput" type="Text"
										value="{parts:[{path:'oItem>/InventorySpecialStockTypeName'}, {path:'oItem>/InventorySpecialStockType'}], formatter: '.formatter.concatenateNameIdFormatter'}"/>
								</f:fields>
							</f:FormElement>
								<f:FormElement id="idVendorNameSpecialStockLabel" label="{i18n>SUPPLIER_SEARCH_FIELD_LABEL}" visible="{= ${oItem>/InventorySpecialStockType} === 'K'}">
								<f:fields>
										<Text id="idVendorNameSpecialStockText"
										text="{parts:[{path:'oItem>/Lifname'}, {path:'oItem>/Lifnr'}], formatter: '.formatter.concatenateNameIdFormatter'}"
										visible="{= ${oItem>/InventorySpecialStockType} === 'K'}"/>
										</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
				</f:formContainers>
			</f:Form>
			<f:Form class="isReadonly" editable="true" id="FormDisplayAccAss" visible="{oItem>/AccountAssignmentVisible}">
				<f:title>
					<core:Title id="AccountAssingmentLabel" text="{i18n>LABEL_ACC_ASS}"/>
				</f:title>
				<f:layout>
					<f:ResponsiveGridLayout columnsL="2" columnsM="2" emptySpanL="2" emptySpanM="2" labelSpanL="4" labelSpanM="4"/>
				</f:layout>
				<f:formContainers>
					<f:FormContainer>
						<f:formElements>
							<f:FormElement id="idAccountAssignmentCategoryLabel" label="{i18n>LABEL_Category}" visible="{= ${oItem>/AcctAssignmentCategory} !== ''}">
								<f:fields>
									<Text id="idAccountAssignmentCategory"
										text="{parts:[{path:'oItem>/AcctAssignmentCategoryName'}, {path:'oItem>/AcctAssignmentCategory'}], formatter: '.concatenateNameIdFormatter'}"
										visible="{= ${oItem>/AcctAssignmentCategory} !== ''}"/>
								</f:fields>
							</f:FormElement>
							<f:FormElement id="idCostCenterLabel" label="{oData>/#GR4PO_DL_Item/CostCenter/@sap:label}" visible="{= ${oItem>/CostCenter} !== ''}">
								<f:fields>
									<Text id="idCostCenterText"
										text="{parts:[{path:'oItem>/CostCenterName'}, {path:'oItem>/CostCenter'}], formatter: '.concatenateNameIdFormatter'}"
										visible="{= ${oItem>/CostCenter} !== ''}"/>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
					<f:FormContainer>
						<f:formElements>
							<f:FormElement id="idProjectDescriptionLabel" label="{i18n>LABEL_DESCRIPTION}" visible="{= ${oItem>/ProjectDescription} !== ''}">
								<f:fields>
									<Text id="idProjectDescription"
										text="{parts:[{path:'oItem>/ProjectDescription'}, {path:'oItem>/Project'}], formatter: '.concatenateNameIdFormatter'}"
										visible="{= ${oItem>/ProjectDescription} !== ''}"/>
								</f:fields>
							</f:FormElement>
							<f:FormElement id="idGLAccountLabel" label="{i18n>LABEL_GL_ACCOUNT}" visible="{= ${oItem>/GLAccount} !== ''}">
								<f:fields>
									<Text id="idGLAccount" text="{oItem>/GLAccount}" visible="{= ${oItem>/GLAccount} !== ''}"/>
								</f:fields>
							</f:FormElement>
							<f:FormElement id="idSalesOrderLabel"
								label="{parts:[{path:'oData>/#GR4PO_DL_Item/SalesOrder/@sap:label'}, {path:'oData>/#GR4PO_DL_Item/SalesOrderItem/@sap:label'}], formatter: '.soformatter'}"
								visible="{= ${oItem>/SalesOrder} !== ''}">
								<f:fields>
									<Text id="idSalesOrderText" text="{parts:[{path:'oItem>/SalesOrder'}, {path:'oItem>/SalesOrderItem'}], formatter: '.soformatter'}"
										visible="{= ${oItem>/SalesOrder} !== ''}"/>
								</f:fields>
							</f:FormElement>
							<f:FormElement id="idFunctionalAreaLabel" label="{oData>/#GR4PO_DL_Item/FunctionalArea/@sap:label}"
								visible="{= ${oItem>/FunctionalArea} !== ''}">
								<f:fields>
									<Text id="idFunctionalAreaText" text="{oItem>/FunctionalArea}" visible="{= ${oItem>/FunctionalArea} !== ''}"/>
								</f:fields>
							</f:FormElement>
							<f:FormElement id="idProfitCenterLabel" label="{oData>/#GR4PO_DL_Item/ProfitCenter/@sap:label}" visible="{= ${oItem>/ProfitCenter} !== ''}">
								<f:fields>
									<Text id="idProfitCenterText"
										text="{parts:[{path:'oItem>/ProfitCenterName'}, {path:'oItem>/ProfitCenter'}], formatter: '.concatenateNameIdFormatter'}"
										visible="{= ${oItem>/ProfitCenter} !== ''}"/>
								</f:fields>
							</f:FormElement>
							<f:FormElement id="idOrderIDLabel" label="{oData>/#GR4PO_DL_Item/OrderID/@sap:label}" visible="{= ${oItem>/OrderID} !== ''}">
								<f:fields>
									<Text id="idOrderIDText" text="{oItem>/OrderID}" visible="{= ${oItem>/OrderID} !== ''}"/>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
				</f:formContainers>
			</f:Form>
			<f:Form class="isReadonly" editable="true" id="FormDisplayUnloadingInform" visible="true">
				<f:title>
					<core:Title id="DisplayUnloadingInformlabel" text="{i18n>LABEL_UNLOADING_INFO}"/>
				</f:title>
				<f:layout>
					<f:ResponsiveGridLayout columnsL="2" columnsM="2" emptySpanL="2" emptySpanM="2" labelSpanL="4" labelSpanM="4"/>
				</f:layout>
				<f:formContainers>
					<f:FormContainer>
						<f:formElements>
							<f:FormElement id="idUnloadingPointNameLabel" label="{i18n>LABEL_UNLOADING_POINT}">
								<f:fields>
									<Text id="idUnloadingPointName" text="{oItem>/UnloadingPointName}"/>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
					<f:FormContainer>
						<f:formElements>
							<f:FormElement id="idGoodsRecipientNamelabel" label="{i18n>LABEL_GOODS_RECIPIENT}">
								<f:fields>
									<Text id="idGoodsRecipientName" text="{oItem>/GoodsRecipientName}"/>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
					<f:FormContainer>
						<f:formElements>
							<f:FormElement id="idDocumentItemTextLabel" label="{i18n>LABEL_DOCUMENT_TEXT}">
								<f:fields>
									<TextArea cols="1" id="idDocumentItemText" maxLength="50" rows="1" value="{oItem>/DocumentItemText}" valueLiveUpdate="true"/>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
				</f:formContainers>
			</f:Form>
			<f:Form class="isReadonly" editable="true" id="FormDisplayDelComp">
				<f:title>
					<core:Title id="idDeliveryCompletedLabel" text="{i18n>LABEL_DELIVERED_COMPLETED}"/>
				</f:title>
				<f:layout>
					<f:ResponsiveGridLayout columnsL="2" columnsM="2" emptySpanL="2" emptySpanM="2" labelSpanL="4" labelSpanM="4"/>
				</f:layout>
				<f:formContainers>
					<f:FormContainer>
						<f:formElements>
							<f:FormElement id="idDeliveryCompletedFormLabel" label="{i18n>LABEL_DELIVERED_COMPLETED}">
								<f:fields>
									<CheckBox enabled="{oItem>/SelectEnabled}" id="idSelectDeliveryCompleted" select="handleSelectDeliveryCompleted"
										selected="{oItem>/DeliveryCompleted}"/>
								</f:fields>
							</f:FormElement>
						</f:formElements>
					</f:FormContainer>
					<f:FormContainer>
						<f:formElements>
							<f:FormElement></f:FormElement>
						</f:formElements>
					</f:FormContainer>
				</f:formContainers>
			</f:Form>
		</semantic:content>
		<semantic:customFooterContent>
			<Button id="idPostButton" press="handleNavButtonPress" text="{i18n>BUTTON_SUCC_POST}" type="Emphasized"/>
			<Button id="idCancelButton" press="handleCancelButtonPress" text="{i18n>BUTTON_PERSON_ABORT}"/>
		</semantic:customFooterContent>
	</semantic:FullscreenPage>
</mvc:View>