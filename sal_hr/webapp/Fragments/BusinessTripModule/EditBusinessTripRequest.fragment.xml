<core:FragmentDefinition xmlns="sap.m"
    xmlns:form="sap.ui.layout.form"
    xmlns:core="sap.ui.core"
    xmlns:upload="sap.m.upload">

    <form:SimpleForm layout="ColumnLayout" columnsM="2" columnsL="2" columnsXL="2" singleContainerFullSize="false" class="style-RemoveTitleHeight" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12">
        <Label text="{i18n>whenWouldYouLiketoText}?" required="true"/>
        <DatePicker id="idEditEffectDatePicker" value="{path:'DisplayEditBusinessTripModel>/effectiveStartDate', type:'sap.ui.model.type.Date', formatOptions: {pattern: 'MM/dd/yyyy'}}" minDate="{LocalViewModel>/currentDate}"/>
    </form:SimpleForm>

    <form:SimpleForm title="{i18n>BusinessTravelDetails}" layout="ColumnLayout" class="style-RemoveTitleHeight" columnsM="2" columnsL="3" columnsXL="3" singleContainerFullSize="false" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12">
        <Label text="{i18n>RequestType}" required="true"/>
        <Select id="idEditReqType" selectedKey="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_requestType}" change="onReqTypeChange" items="{ path: '/SF_PickListValueV2',
                                sorter : {
                                    path : 'label_defaultValue' 
                                },
                                filters : [ { path : 'PickListV2_id', operator : 'EQ', value1 : 'dutyTravelReqType'} ]
                                       }">
            <core:ListItem key="{externalCode}" text="{label_defaultValue}" additionalText="{externalCode}"/>
        </Select>

        <Label text="{i18n>PerDiemPayComponent}" required="true"/>
        <Input id="idEditPayComp" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_perDiemPayComp}" type="Number" enabled="false"/>

        <Label text="{i18n>TotalTravelAmount}" required="true"/>
        <Input id="idEditTravelAmt" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_totalAmount}" type="Number" enabled="false"/>
    </form:SimpleForm>

    <form:SimpleForm title="{i18n>TravelRequest}" layout="ColumnLayout" class="style-RemoveTitleHeight" columnsM="2" columnsL="3" columnsXL="3" singleContainerFullSize="false" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12">
        <Label text="{i18n>TripCategory}" required="true"/>
        <Select id="idEditTripCategory" selectedKey="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_tripCategory}" change="onTripCategoryChange" items="{ path: '/SF_PickListValueV2',
                                sorter : {
                                    path : 'label_defaultValue' 
                                },
                                filters : [ { path : 'PickListV2_id', operator : 'EQ', value1 : 'dutyTravelTripCat'} ]
                                       }">
            <core:ListItem key="{externalCode}" text="{label_defaultValue}" additionalText="{externalCode}"/>
        </Select>

        <Label text="{i18n>AirlinetickettobebookedbyHR}?" required="true"/>
        <Select id="idEditHRBook" selectedKey="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_isCompany}" change="onTimeTyeChange">
            <core:Item key="true" text="Yes"/>
            <core:Item key="false" text="No"/>
        </Select>

        <Label text="{i18n>HotelBookingRequired}?"/>
        <Select id="idEditHotlBook" selectedKey="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_hotelBooking}" change="onHotelBookChange">
            <core:Item key="Yes" text="Yes"/>
            <core:Item key="No" text="No"/>
        </Select>

        <!-- <Label text="Expense Type: Business Travel" visible="{= ${LocalViewModel>/businessTravel} === true ? true : false }" />
        <Select id="idEditBusinessExpense" change="onBusinessExpenseChange" visible="{= ${LocalViewModel>/businessTravel} === true ? true : false }" items="{ path: '/SF_PickListValueV2',
                                sorter : {
                                    path : 'label_defaultValue' 
                                },
                                filters : [ { path : 'PickListV2_id', operator : 'EQ', value1 : 'dutyTravelExpTypeTravel'} ]
                                       }">
            <core:ListItem key="{externalCode}" text="{label_defaultValue}" additionalText="{externalCode}"/>
        </Select> -->

        <Label text="Expense Type: Training Travel" visible="{= ${LocalViewModel>/trainingTravel} === true ? true : false }"/>
        <Select id="idEditTrainingExpense" change="onTrainingExpenseChange" visible="{= ${LocalViewModel>/trainingTravel} === true ? true : false }" items="{ path: '/SF_PickListValueV2',
                                sorter : {
                                    path : 'label_defaultValue' 
                                },
                                filters : [ { path : 'PickListV2_id', operator : 'EQ', value1 : 'dutyTravelExpTypeTraining'} ]
                                       }">
            <core:ListItem key="{externalCode}" text="{label_defaultValue}" additionalText="{externalCode}"/>
        </Select>

        <Label text="{i18n>TravelBusinessJustification}" />
        <TextArea id="idEditTravelJustification" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_assignJustification}"/>
    </form:SimpleForm>

    <form:SimpleForm title="{i18n>TravelInformation}" layout="ColumnLayout" class="style-RemoveTitleHeight" columnsM="2" columnsL="3" columnsXL="3" singleContainerFullSize="false" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12">
        <Label text="{i18n>TravelDate}" required="true"/>
        <DatePicker id="idEditTravelDate" value="{path:'DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_businessTravelDate', type:'sap.ui.model.type.Date', formatOptions: {pattern: 'MM/dd/yyyy'}}"></DatePicker>

        <Label text="{i18n>ReturnDate}" required="true"/>
        <DatePicker id="idEditReturnDate" value="{path:'DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_returnDate', type:'sap.ui.model.type.Date', formatOptions: {pattern: 'MM/dd/yyyy'}}"></DatePicker>

        <Label text="{i18n>DesiredAirlineTicketTravelTime}"/>
        <Input id="idEditTravelTime" value="{path:'DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_travelTime', type:'sap.ui.model.type.Date', formatOptions: {pattern: 'MM/dd/yyyy'}}" enabled="false"/>
        <!-- <TimePicker id="idEditTravelTime" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_travelTime}" valueFormat="HH:mm:ss" support2400="true" placeholder="Enter Time"/> -->

        <Label text="{i18n>DestinationCountry}"/>
        <Select id="idEditDestCountry" showSecondaryValues="true" items="{path: '/SF_Country',
                                                            
                                                         sorter : {
                                                             path : 'externalName_defaultValue' 
                                                        } }" change="onDestCountryChange" selectedKey="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_destination}">

            <core:ListItem key="{code}" text="{code}" additionalText="{externalName_defaultValue}"/>
        </Select>

        <Label text="{i18n>CitySaudi}"/>
        <Select id="idEditCity" selectedKey="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_city}" items="{ path: '/SF_PickListValueV2',
                                                            filters: [
                                                                        {
                                                                             path: 'PickListV2_id',
                                                                             operator: 'EQ',
                                                                             value1: 'SAU_CITY'
                                                                         }
                                                                     ],
                                                         sorter : {
                                                             path : 'label_defaultValue' 
                                                        } }">

            <core:Item key="{externalCode}" text="{label_defaultValue}" />
        </Select>

        <Label text="{i18n>OtherCity}"/>
        <Input id="idEditOtherCity" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_SAUotherCity}"/>

        <Label text="{i18n>CityOtherCountry}"/>
        <Input id="idEditCityCountry" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_cityAll}"/>

        <Label text="{i18n>InsideOtsideKingdom}" required="true"/>
        <Input id="idEditInsOutKingdom" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_inOutKingdom}" enabled="false"/>

        <Label text="{i18n>PerDiem}"/>
        <Input id="idEditPerDiem" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_perDiem}" enabled="false"/>

        <Label text="{i18n>TotalPerDiem}"/>
        <Input id="idEditTotalPErDiem" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_totalPerDiem}" enabled="false"/>
    </form:SimpleForm>

    <form:SimpleForm title="{i18n>FlightDeatils}" layout="ColumnLayout" class="style-RemoveTitleHeight" columnsM="2" columnsL="3" columnsXL="3" singleContainerFullSize="false" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12">
        <Label text="{i18n>TravelDate}"/>
        <DatePicker id="idEditFlightTravelDate" value="{path:'DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_businessTravelDate', type:'sap.ui.model.type.Date', formatOptions: {pattern: 'MM/dd/yyyy'}}"></DatePicker>

        <Label text="{i18n>TravelTo}"/>
        <Input id="idEditTravelTo" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_businessTravelTo}"/>

        <Label text="{i18n>FlightNumber}"/>
        <Input id="idEditFlightNum" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_businessTravelFlightNum}"/>

        <Label text="{i18n>DepartureTime}"/>
        <Input id="idEditDepTime" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_businessTravelDepTime}"/>

        <Label text="{i18n>ArrivalTime}"/>
        <Input id="idEditArrivalTime" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_businessTravelArrTime}"/>

        <Label text="{i18n>PayComponent}"/>
        <Input id="idEditPayCom" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_businessTravelPayComp}" enabled="false"/>

        <Label text="{i18n>TicketAmount}"/>
        <Input id="idEditTicketAmt" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_ticketAmount}"/>
    </form:SimpleForm>

    <!-- File Uploader for Business Category -->
    <upload:UploadSet id="idEditAttachBoardingPassBusiness" visible="{= ${DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_tripCategory} === 'B' ? true : false}" class="sapUiSmallMarginBeginEnd" instantUpload="true" showIcons="true" uploadEnabled="true" terminationEnabled="true" maxFileNameLength="255" maxFileSize="200" afterItemRemoved="onFileDeleted" afterItemAdded="onFileAdded">
        <upload:toolbar>
            <OverflowToolbar>
                <Label text="{i18n>AttachBoardingPass}" required="true"/>
                <ToolbarSpacer/>
            </OverflowToolbar>
        </upload:toolbar>
        <upload:items>
            <upload:UploadSetItem fileName="{BusinessTripAttachmentModel>/businessTravelAttachment/fileName}" mediaType="{BusinessTripAttachmentModel>/businessTravelAttachment/mimeType}"/>
        </upload:items>
    </upload:UploadSet>

    <!-- File Uploader for Training Category -->
    <upload:UploadSet id="idEditAttachBoardingPassTraining" visible="{= ${DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_tripCategory} === 'B' ? false : true}" class="sapUiSmallMarginBeginEnd" instantUpload="true" showIcons="true" uploadEnabled="true" terminationEnabled="true" maxFileNameLength="255" maxFileSize="200" afterItemRemoved="onFileDeleted" afterItemAdded="onFileAdded">
        <upload:toolbar>
            <OverflowToolbar>
                <Label text="{i18n>AttachBoardingPass}" required="true"/>
                <ToolbarSpacer/>
            </OverflowToolbar>
        </upload:toolbar>
        <upload:items>
            <upload:UploadSetItem fileName="{BusinessTripAttachmentModel>/trainingTravelAttachment/fileName}" mediaType="{BusinessTripAttachmentModel>/trainingTravelAttachment/mimeType}"/>
        </upload:items>
    </upload:UploadSet>

    <form:SimpleForm title="{i18n>VisaInformation}" layout="ColumnLayout" class="style-RemoveTitleHeight" columnsM="2" columnsL="3" columnsXL="3" singleContainerFullSize="false" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12">
        <Label text="{i18n>VisaType}" required="true"/>
        <Select id="idEditVisaType" selectedKey="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_expenseTypeVisaFee}" change="onVisaTypeChange" items="{ path: '/SF_PickListValueV2',
                                                            filters: [
                                                                        {
                                                                             path: 'PickListV2_id',
                                                                             operator: 'EQ',
                                                                             value1: 'dutyTravelExpTypeVisa'
                                                                         }
                                                                     ] }">
            <core:ListItem key="{externalCode}" text="{label_defaultValue}" />
        </Select>
        <Label text="{i18n>PayComponentVisa}" required="true"/>
        <Input id="idEditPayCompVisa" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_visaFeePayComp}" enabled="{= ${DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_requestType} === '1' ? true : false}"/>

        <Label text="{i18n>VisaAmount}" required="true"/>
        <Input id="idEditVisaAmt" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_visaFeeExpenseAmount}"/>
    </form:SimpleForm>

    <upload:UploadSet id="idEditAttachVisaCopy" class="sapUiSmallMarginBeginEnd" instantUpload="true" showIcons="true" uploadEnabled="true" terminationEnabled="true" maxFileNameLength="255" maxFileSize="200" afterItemRemoved="onFileDeleted" afterItemAdded="onFileAdded">
        <upload:toolbar>
            <OverflowToolbar>
                <Label text="{i18n>AttachVisaCopy}" required="true"/>
                <ToolbarSpacer/>
            </OverflowToolbar>
        </upload:toolbar>
        <upload:items>
            <upload:UploadSetItem fileName="{BusinessTripAttachmentModel>/visaCopyAttachment/fileName}" mediaType="{BusinessTripAttachmentModel>/visaCopyAttachment/mimeType}"/>
        </upload:items>
    </upload:UploadSet>

    <upload:UploadSet id="idEditAttachEmbassyReceipt" class="sapUiSmallMarginBeginEnd" instantUpload="true" showIcons="true" uploadEnabled="true" terminationEnabled="true" maxFileNameLength="255" maxFileSize="200" afterItemRemoved="onFileDeleted" afterItemAdded="onFileAdded">
        <upload:toolbar>
            <OverflowToolbar>
                <Label text="{i18n>AttachEmbassyReceipt}" required="true"/>
                <ToolbarSpacer/>
            </OverflowToolbar>
        </upload:toolbar>
        <upload:items>
            <upload:UploadSetItem fileName="{BusinessTripAttachmentModel>/receiptEmbassyAttachment/fileName}" mediaType="{BusinessTripAttachmentModel>/receiptEmbassyAttachment/mimeType}"/>
        </upload:items>
    </upload:UploadSet>


    <form:SimpleForm title="{i18n>EmployeeInformation}" layout="ColumnLayout" class="style-RemoveTitleHeight" columnsM="2" columnsL="3" columnsXL="3" singleContainerFullSize="false" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12">
        <Label text="{i18n>EmployeeName}" required="true"/>
        <Input id="idEditCustEmpName" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_empName}" enabled="false"></Input>

        <Label text="{i18n>PayGrade}" required="true"/>
        <Input id="idEditPayGrade" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_payGrade}" enabled="false"/>

        <Label text="{i18n>CostCenter}" required="true"/>
        <Input id="idEditCostCenter" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_costCenter}" enabled="false"/>

        <Label text="{i18n>EmergencyPhoneNumber}"/>
        <Input id="idEditEmergencyPhn" value="{DisplayEditBusinessTripModel>/cust_toDutyTravelItem/0/cust_emerPhoneNum}"/>
    </form:SimpleForm>
</core:FragmentDefinition> 
