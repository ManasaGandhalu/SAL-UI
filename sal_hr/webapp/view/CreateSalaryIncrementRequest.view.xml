<mvc:View controllerName="com.sal.salhr.controller.CreateSalaryIncrementRequest"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:f="sap.f"
    xmlns:l="sap.ui.layout"
    xmlns:core="sap.ui.core"
    xmlns:fm="sap.ui.layout.form"
    xmlns:upload="sap.m.upload" height="100%">
    <f:DynamicPage id="dynamicPageId" headerExpanded="true" showFooter="true">
        <!-- DynamicPage Title -->
        <f:title>
            <f:DynamicPageTitle id="idDynamicPageTitle">
                <f:heading>
                    <Title id="idPageTitle" text="New Salary Increment Request" class="sapUiSmallMarginBegin"/>
                </f:heading>
                <f:breadcrumbs>
                    <Breadcrumbs id="idBreadcrumbs" currentLocationText="New Salary Increment Request" class="sapUiSmallMarginBegin">
                        <Link id="idSalaryLink" text="{i18n>HumanResource}" press="onCreateCancelPress"/>
                    </Breadcrumbs>
                </f:breadcrumbs>
            </f:DynamicPageTitle>
        </f:title>
        <f:content>
            <!-- <l:VerticalLayout class="sapUiNoMargin sapUiNoContentPadding">
                <l:content>  -->
            <VBox>

                <fm:SimpleForm layout="ColumnLayout" columnsM="2" columnsL="3" columnsXL="4" singleContainerFullSize="false" class="style-RemoveTitleHeight">
                    <Label text="When would you like your changes to take effect? " required="true" />
                    <DatePicker id="idStartDate" value="{path:'LocalViewModel>/currentDate', type:'sap.ui.model.type.Date', formatOptions: {
                        pattern: 'MM/dd/yyyy'
                            }}" minDate="{LocalViewModel>/minDate}"/>
                    <Label text="PRN" required="true" />
                    
                    <!-- passing hardcode PRN value to test salary increment issue -->
                    <!-- <Input id="idSalIncPRN" value="12002425" required="true" width="100%" valueHelpOnly="true" showValueHelp="true" valueHelpRequest="onValueHelpRequest" /> -->

                    <Input id="idSalIncPRN" required="true" width="100%" valueHelpOnly="true" showValueHelp="true" valueHelpRequest="onValueHelpRequest" />

                </fm:SimpleForm>
                <VBox visible="{= ${LocalViewModel>/checkBoxVisible} ? true : false }">
               

                <fm:SimpleForm layout="ColumnLayout" columnsM="2" columnsL="3" columnsXL="4" singleContainerFullSize="false" class="style-RemoveTitleHeight" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12">
                    <Label text="Choose what you want to change"/>
                    <CheckBox id="idJobInfo" select="onSelectJobInfo" text="Job Information"></CheckBox>
                    <CheckBox id="idCompensationInfo" select="onSelectCompensation" text="Compensation Information"></CheckBox>
                </fm:SimpleForm>
                 </VBox>

                <Panel visible="{= ${LocalViewModel>/jobInfoVisible} ? true : false }">
                    <fm:SimpleForm title="Position Information" layout="ColumnLayout" class="style-RemoveTitleHeight" columnsM="2" columnsL="3" columnsXL="3" singleContainerFullSize="false" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12">

                        <Label text="Incumbent of Parent Position" required="false" />
                        <Input id="idIncumbentPosition" value="{jobInfoNav>/results/0/managerId}"/>

                        <Label text="Position" />
                        <!-- <Select id="idPosition" items="{ path: '/SF_Position'}" selectedKey="{jobModel>/position}">
                            <core:Item key="{code}" text="{externalName_defaultValue}"/>
                        </Select> -->

                         <Input id="idPosition"  width="100%" valueHelpOnly="true" value="{= ${jobModel>/position} !== null ? ${jobModel>/positionNav/externalName_defaultValue} (${jobModel>/position}) : null }" showValueHelp="true" valueHelpRequest="onPositionRequest" />

                        <Label text="Time in Position" />
                        <Input value="" />
                    </fm:SimpleForm>
                    <fm:SimpleForm title="Organization Information" layout="ColumnLayout" class="style-RemoveTitleHeight" columnsM="2" columnsL="3" columnsXL="3" singleContainerFullSize="false" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12">

                        <Label text="Company" required="true" />
                        <Select id="idCompany" items="{ path: '/SF_FOCompany'}" selectedKey="{jobModel>/company}">
                            <core:Item key="{externalCode}" text="{name}"/>
                        </Select>

                        <Label text="Business Unit" />
                        <Select id="idBU" items="{ path: '/SF_BusinessUnit'}" selectedKey="{jobModel>/businessUnit}">
                            <core:Item key="{externalCode}" text="{name}"/>
                        </Select>

                        <Label text="Division" />
                        <Select id="idDivision" items="{ path: '/SF_Division'}" selectedKey="{jobModel>/division}">
                            <core:Item key="{externalCode}" text="{name}"/>
                        </Select>

                        <Label text="Department" />
                        <Select id="idDepartment" items="{ path: '/SF_Department'}" selectedKey="{jobModel>/department}">
                            <core:Item key="{externalCode}" text="{name}"/>
                        </Select>

                        <Label text="Location" />
                        <Select id="idLocation" items="{ path: '/SF_Location'}" selectedKey="{jobModel>/location}">
                            <core:Item key="{externalCode}" text="{name}"/>
                        </Select>

                        <Label text="Time Zone" />
                        <Input value="{jobModel>/timezone}" />

                        <Label text="Cost Center" />
                        <!-- <Select id="idCostCenter" items="{ path: '/SF_FOCostCenter'}" selectedKey="{jobModel>/costCenter}">
                            <core:Item key="{externalCode}" text="{name}"/>
                        </Select> -->
                         <Input id="idCostCenter"  width="100%" valueHelpOnly="true" value="{= ${jobModel>/costCenter} !== null ? ${jobModel>/costCenterNav/name} (${jobModel>/costCenter}) : null }" showValueHelp="true" valueHelpRequest="onCostCenterRequest" />


                        <Label text="Location Group" />
                        <Select id="idLocationGroup" items="{ path: '/SF_LocationGroup'}" selectedKey="{jobModel>/customString12}">
                            <core:Item key="{externalCode}" text="{name}"/>
                        </Select>

                        <Label text="Section" />
                        <Select id="idSection" items="{ path: '/SF_Section'}" selectedKey="{jobModel>/customString10}">
                            <core:Item key="{externalCode}" text="{externalName}"/>
                        </Select>
                    </fm:SimpleForm>


                    <fm:SimpleForm title="Job Information" layout="ColumnLayout" class="style-RemoveTitleHeight" columnsM="2" columnsL="3" columnsXL="3" singleContainerFullSize="false" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12">

                        <Label text="Direct Manager" required="true" />
                        <!-- <Input id="idDirectManager" value="{jobInfoNav>/results/0/managerId}"/> -->
                         <Input id="idDirectManager" required="true" width="100%" valueHelpOnly="true" value="{jobModel>/managerId}" showValueHelp="true" valueHelpRequest="onDirectMngrValueHelpRequest" />


                        <Label text="Job Classification" />
                        <Select id="idJobclassification" items="{ path: '/SF_JobCode'}" selectedKey="{jobModel>/jobCode}">
                            <core:Item key="{externalCode}" text="{name}"/>
                        </Select>

                        <Label text="Job Level" />
                        <Input value="{jobModel>/customString1}" />

                        <Label text="Job Title" required="false" />
                        <Input id="idJobTitle" value="{jobModel>/jobTitle}" />

                        <Label text="Pay Grade" />
                        <Select id="idPayGrade" items="{ path: '/SF_FOPayGrade'}" selectedKey="{jobModel>/payGrade}">
                            <core:Item key="{externalCode}" text="{name}"/>
                        </Select>

                        <Label text="Pay Range" />
                        <Select id="idPayRange" items="{ path: '/SF_PayRange'}" selectedKey="{jobModel>/customString9}">
                            <core:Item key="{externalCode}" text="{name}"/>
                        </Select>

                        <Label text="IK/OOK" required="true" />
                        <Select id="idIKOOK" items="{ path: '/SF_PicklistOption', filters: [{ path: 'picklist/picklistId', operator: 'EQ', value1: 'regular-temp' }] }" selectedKey="{jobModel>/regularTemp}">
                            <core:Item key="{id}" text="{localeLabel}"/>
                        </Select>

                        <Label text="Is Full Time Employee" required="true" />
                        <Select id="idFullTimeEmp" selectedKey="{jobModel>/isFulltimeEmployee}">
                            <core:Item key="true" text="Yes"/>
                            <core:Item key="false" text="No"/>
                        </Select>

                        <Label text="Employment Type" required="true" />
                        <Select id="idEmploymentType" items="{ path: '/SF_PicklistOption', filters: [{ path: 'picklist/picklistId', operator: 'EQ', value1: 'employmentType' }] }" selectedKey="{jobModel>/employmentType}">
                            <core:Item key="{id}" text="{localeLabel}"/>
                        </Select>

                        <Label text="Notes" required="false" />
                        <Input id="idNotes" value="{jobModel>/notes}" />

                        <Label text="Pay Group" required="true" />
                        <Select id="idPayGroup" items="{ path: '/SF_FOPayGroup'}" selectedKey="{jobModel>/payGroup}">
                            <core:Item key="{externalCode}" text="{name}"/>
                        </Select>

                        <Label text="Probationary Period End Date" required="true" />
                        <DatePicker id="idProbationaryDate" value="{path:'jobModel>/probationPeriodEndDate', type:'sap.ui.model.type.Date',  formatOptions: {
                                                    pattern: 'MM/dd/yyyy'
                                                }}" minDate="{LocalViewModel>/currentDate}"/>

                        <Label text="Country" required="true" />
                        <Select id="idJobCountry" items="{ path: '/SF_Country'}" selectedKey="{jobModel>/customString2}">
                            <core:Item key="{numericCountryCode}" text="{externalName_defaultValue}"/>
                        </Select>





                        <Label text="Employee Class" />
                        <Select id="idEmployeeClass" items="{ path: '/SF_PicklistOption', filters: [{ path: 'picklist/picklistId', operator: 'EQ', value1: 'EMPLOYEECLASS' }] }" selectedKey="{jobModel>/employeeClass}">
                            <core:Item key="{id}" text="{localeLabel}"/>
                        </Select>

                        <Label text="Employee Type" />
                        <Select id="idEmployeeType" items="{ path: '/SF_PicklistOption', filters: [{ path: 'picklist/picklistId', operator: 'EQ', value1: 'employee-type' }] }" selectedKey="{jobModel>/employeeType}">
                            <core:Item key="{id}" text="{localeLabel}"/>
                        </Select>

                        <Label text="Pay Scale Type" />
                        <Select id="idPayScaleType" items="{ path: '/SF_PayScaleType'}" selectedKey="{jobModel>/payScaleType}">
                            <core:Item key="{code}" text="{externalName_defaultValue}"/>
                        </Select>


                        <Label text="Pay Scale Area" />
                        <Select id="idPayScaleArea" items="{ path: '/SF_PayScaleArea'}" selectedKey="{jobModel>/payScaleArea}">
                            <core:Item key="{code}" text="{externalName_defaultValue}"/>
                        </Select>

                        <Label text="Pay Scale Group" />
                        <Select id="idPayScaleGroup" items="{ path: '/SF_PayScaleGroup'}" selectedKey="{jobModel>/payScaleGroup}">
                            <core:Item key="{code}" text="{externalName_defaultValue}"/>
                        </Select>

                        <Label text="Pay Scale Level" />
                        <Select id="idPayScaleLevel" items="{ path: '/SF_PayScaleLevel'}" selectedKey="{jobModel>/payScaleLevel}">
                            <core:Item key="{code}" text="{externalName_defaultValue}"/>
                        </Select>

                        <Label text="Employee Notice Period" />
                        <Select id="idEmployeeNoticePeriod" items="{ path: '/SF_PicklistOption', filters: [{ path: 'picklist/picklistId', operator: 'EQ', value1: 'EENoticePeriod' }] }" selectedKey="{jobModel>/employeeNoticePeriod}">
                            <core:Item key="{id}" text="{localeLabel}"/>
                        </Select>

                        <Label text="Contract Type" />
                        <!-- <Input value="{jobModel>/contractType}" /> -->
                        <Select id="idContractType" items="{ path: '/SF_PicklistOption', filters: [{ path: 'picklist/picklistId', operator: 'EQ', value1: 'contractType' }] }" selectedKey="{jobModel>/contractType}">
                            <!-- <core:Item key="{ parts : [{ path: 'picklistLabels'}, {value: 'optionId'} ], formatter: '.formatter.formatPicklistOptions' }" text="{ parts : [{ path: 'picklistLabels'}, {value: 'label'} ], formatter: '.formatter.formatPicklistOptions' }"/> -->
                             <core:Item key="{id}" text="{localeLabel}"/>
                        </Select>

                        <Label text="Duration" />
                        <Select id="idDuration" items="{ path: '/SF_PicklistOption', filters: [{ path: 'picklist/picklistId', operator: 'EQ', value1: 'duraition' }] }" selectedKey="{jobModel>/customString13}">
                            <core:Item key="{id}" text="{localeLabel}"/>
                        </Select>

                        <Label text="Contract End Date" />
                        <Input value="{path:'jobModel>/contractEndDate', type:'sap.ui.model.type.Date',  formatOptions: {
                                                    pattern: 'MM/dd/yyyy'
                                                }}" minDate="{LocalViewModel>/currentDate}"/>

                        <Label text="Auto Renewal" />
                        <Select id="idAutoRenewal" items="{ path: '/SF_PicklistOption', filters: [{ path: 'picklist/picklistId', operator: 'EQ', value1: 'yesNo' }] }" selectedKey="{jobModel>/customString11}">
                            <core:Item key="{id}" text="{localeLabel}"/>
                        </Select>

                        <Label text="Job Family" />
                        <Input value="{jobModel>/jobGroup}" />

                        <Label text="Initial Entry" />
                        <Input value="{jobModel>/initialEntryDate}" />

                        <Label text="Entry into Group" />
                        <Input value="{jobModel>/entryIntoGroup}" />


                    </fm:SimpleForm>
                </Panel>
                <Panel visible="{= ${LocalViewModel>/componesationInfoVisible} ? true : false }">
                    <fm:SimpleForm title="Compensation Information" layout="ColumnLayout" class="style-RemoveTitleHeight" columnsM="2" columnsL="3" columnsXL="3" singleContainerFullSize="false" labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12">

                        <Label text="Pay Group" required="true" />
                        <Select id="idCompPayGroup" items="{ path: '/SF_FOPayGroup'}" selectedKey="{compensationModel>/payGroup}">
                            <core:Item key="{externalCode}" text="{name}"/>
                        </Select>


                        <Label text="is Eligible for Car" />
                        <!-- <Input enabled="false" value="{compensationModel>/isEligibleForCar}" /> -->
                        <RadioButtonGroup  editable="false" columns="2"  select="onRbChnageMain" selectedIndex="{= ${compensationModel>/isEligibleForCar}  ? 0 : 1 }">
                            <buttons>
                                <RadioButton text="Yes"/>
                                <RadioButton text="No"/>
                            </buttons>
                        </RadioButtonGroup>

                        <Label text="Monthly Basic" />
                        <Input value="{compensationModel>/customDouble1}" />

                        <Label text="Country" required="true" />
                        <Select id="idCompCountry" items="{ path: '/SF_Country'}" selectedKey="{compensationModel>/customString2}">
                            <core:Item key="{numericCountryCode}" text="{externalName_defaultValue}"/>
                        </Select>

                        <Label text="Pay Type" />
                        <Select items="{PayTypeModel>/}" selectedKey="{compensationModel>/payType}">
                            <core:Item key="{PayTypeModel>picklistLabels/results/0/optionId}" text="{PayTypeModel>picklistLabels/results/0/label}"/>
                        </Select>

                        <Label text="Scheme Change Date" />
                        <DatePicker value="{path:'compensationModel>/customDate1', type:'sap.ui.model.type.Date', formatOptions: {
                                                  pattern: 'MM/dd/yyyy'
                                                }}" minDate="{LocalViewModel>/currentDate}"/>

                        <Label text="Change from Commision to Variable" required="true" />
                        <Input id="idCommision" value="{compensationModel>/customString3}"/>
                    </fm:SimpleForm>
                    <!-- <VBox>
                       <Table id="idConsumedTable" growing="true" growingThreshold="10">
                            <headerToolbar>
                                <OverflowToolbar>
                                       <Title text="{i18n>Compensation}" level="H4" />
                            <content>
                                <ToolbarSpacer></ToolbarSpacer>
                               
                            </content>
                                </OverflowToolbar>
                            </headerToolbar>
                            <columns>
                                <Column demandPopin="true" minScreenWidth="Tablet">
                                 <Label text="Pay Component" required="true" />
                                </Column>
                                <Column demandPopin="true" minScreenWidth="Tablet">
                                   <Label text="Amount" required="false" />
                                </Column>
                                <Column demandPopin="true" minScreenWidth="Tablet">
                                   <Label text="Currency" required="true" />
                                </Column>
                                <Column demandPopin="true" minScreenWidth="Tablet">
                                  <Label text="Frequency" required="true" />
                                </Column>
                                <Column demandPopin="true" minScreenWidth="Tablet">
                                  <Label text="Payment-End-Date" required="true" />
                                </Column>
                                 <Column demandPopin="true" minScreenWidth="Tablet">
                                      <Label text="" required="false" />
                                </Column>
                            </columns>
                            <items>
                                <ColumnListItem id="idBOQItems">
                                    <cells>
                                             <Input value="{jobModel>/payComponent}"/>
                                            <Input value="{jobModel>/paycompvalue}"/>
                                            <Input value="{jobModel>/currencyCode}"/>
                                            
                                              <Select id="idFrequency" items="{ path: '/SF_FOFrequency'}" selectedKey="{jobModel>/frequency}">
                                               <core:Item key="{externalCode}" text="{description}"/>
                                                </Select>
                                              <DatePicker value="{path:'jobModel>/endDate', type:'sap.ui.model.type.Date', formatOptions: {
                                                    pattern: 'MM/dd/yyyy'
                                                }}" />
                                               <Button icon="sap-icon://delete" press="onDeleteItemPress" type="Transparent"/>
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </VBox> -->
                </Panel>
                <!-- </l:content>
            </l:VerticalLayout> -->
            </VBox>
        </f:content>
        <!-- DynamicPage Footer -->
        <f:footer>
            <OverflowToolbar id="idOverflowToolbar" visible="true">
                <ToolbarSpacer id="idToolbarSpacer"/>
                <Button id="idResetBTN" text="{i18n>Reset}" type="Ghost" press="onResetPress"/>
                <Button id="idCancelBTN" text="{i18n>Cancel}" type="Ghost" press="onCreateCancelPress"/>
                <Button id="idRaiseRequestBTN" text="{i18n>RaiseRequest}" press="onRaiseRequestPress" class="RaiseRequestButton"/>
            </OverflowToolbar>
        </f:footer>
    </f:DynamicPage>
</mvc:View>